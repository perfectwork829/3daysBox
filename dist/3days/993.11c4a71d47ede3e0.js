"use strict";(self.webpackChunk_3days=self.webpackChunk_3days||[]).push([[993],{5993:(X,u,c)=>{c.r(u),c.d(u,{ProductsModule:()=>V});var l=c(6895),f=c(8986),v=c(2476),x=c(2813),t=c(4650),_=c(1481),b=c(3348),g=c(138),T=c(9453),Z=c(9379),p=c(7750),I=c(1130),S=c(7226),A=c(7835),C=c(2340),y=c(4463);function P(i,r){if(1&i&&(t.TgZ(0,"p",32),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",e.period," ",e.period_unit,"")}}function U(i,r){if(1&i&&(t.TgZ(0,"p",33),t._uU(1),t.TgZ(2,"b"),t._uU(3),t.qZA()()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.AsE("",e.amount_after_vat.toFixed(1)," ",n.currency," / "),t.xp6(2),t.Oqu(e.period_unit)}}function q(i,r){if(1&i&&(t.TgZ(0,"p",34),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.english_name)}}function J(i,r){if(1&i&&(t.TgZ(0,"p",35),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",e.period," ",e.arabic_period_unit,"")}}function Y(i,r){if(1&i&&(t.TgZ(0,"p",36),t._uU(1),t.TgZ(2,"b"),t._uU(3),t.qZA()()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.AsE("",e.amount_after_vat.toFixed(1)," ",n.currency," / "),t.xp6(2),t.hij(" ",e.arabic_period_unit,"")}}function N(i,r){if(1&i&&(t.TgZ(0,"p",37),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.arabic_name)}}function L(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22),t.YNc(4,P,2,2,"p",23),t.YNc(5,U,4,3,"p",24),t.YNc(6,q,2,1,"p",25),t.YNc(7,J,2,2,"p",26),t.YNc(8,Y,4,3,"p",27),t.YNc(9,N,2,1,"p",28),t.TgZ(10,"div",29),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onSubscriptionSelected.emit(s))}),t.TgZ(11,"div",30)(12,"div",21)(13,"div",31),t._uU(14),t.ALo(15,"translate"),t.qZA()()()()()()()()}if(2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",!e.isLangflag),t.xp6(1),t.Q6J("ngIf",!e.isLangflag),t.xp6(1),t.Q6J("ngIf",!e.isLangflag),t.xp6(1),t.Q6J("ngIf",e.isLangflag),t.xp6(1),t.Q6J("ngIf",e.isLangflag),t.xp6(1),t.Q6J("ngIf",e.isLangflag),t.xp6(5),t.Oqu(t.lcZ(15,7,"buy_subscription"))}}function F(i,r){1&i&&(t.TgZ(0,"div")(1,"p",38),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"no_training_available")))}function k(i,r){if(1&i&&(t.TgZ(0,"div",15)(1,"div",16),t.YNc(2,L,16,9,"div",17),t.qZA(),t.YNc(3,F,4,3,"div",18),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.personalTrainings),t.xp6(1),t.Q6J("ngIf",!e.personalTrainings.length)}}function w(i,r){if(1&i&&(t.TgZ(0,"div")(1,"p",32),t._uU(2),t.qZA(),t.TgZ(3,"p",33),t._uU(4),t.TgZ(5,"b"),t._uU(6),t.qZA()(),t.TgZ(7,"p",34),t._uU(8),t.qZA(),t.TgZ(9,"p",42),t._uU(10),t.qZA(),t.TgZ(11,"p",43),t._uU(12),t.TgZ(13,"b"),t._uU(14),t.qZA()(),t.TgZ(15,"p",44),t._uU(16),t.qZA()()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(2),t.AsE("",e.period," ",e.arabic_period_unit,""),t.xp6(2),t.AsE("",e.amount_after_vat.toFixed(1)," ",n.currency," / "),t.xp6(2),t.hij(" ",e.arabic_period_unit,""),t.xp6(2),t.Oqu(e.arabic_name),t.xp6(2),t.AsE("",e.period," ",e.arabic_period_unit,""),t.xp6(2),t.AsE("",e.amount_after_vat.toFixed(1)," ",n.currency," / "),t.xp6(2),t.hij(" ",e.arabic_period_unit,""),t.xp6(2),t.Oqu(e.arabic_description)}}function O(i,r){if(1&i&&(t.TgZ(0,"div")(1,"p",32),t._uU(2),t.qZA(),t.TgZ(3,"p",33),t._uU(4),t.TgZ(5,"b"),t._uU(6),t.qZA()(),t.TgZ(7,"p",34),t._uU(8),t.qZA(),t.TgZ(9,"p",42),t._uU(10),t.qZA(),t.TgZ(11,"p",43),t._uU(12),t.TgZ(13,"b"),t._uU(14),t.qZA()(),t.TgZ(15,"p",44),t._uU(16),t.qZA()()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(2),t.AsE("",e.period," ",e.period_unit,""),t.xp6(2),t.AsE("",e.amount_after_vat.toFixed(1)," ",n.currency," / "),t.xp6(2),t.hij(" ",e.period_unit,""),t.xp6(2),t.Oqu(e.english_name),t.xp6(2),t.AsE("",e.period," ",e.period_unit,""),t.xp6(2),t.AsE("",e.amount_after_vat.toFixed(1)," ",n.currency," / "),t.xp6(2),t.hij(" ",e.period_unit,""),t.xp6(2),t.Oqu(e.english_description)}}function Q(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22),t.YNc(4,w,17,12,"div",18),t.YNc(5,O,17,12,"div",18),t.TgZ(6,"div",29),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onSubscriptionSelected.emit(s))}),t.TgZ(7,"div",40)(8,"div",21)(9,"div",41),t._uU(10),t.ALo(11,"translate"),t.qZA()()()()()()()()}if(2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",e.isLangflag),t.xp6(1),t.Q6J("ngIf",!e.isLangflag),t.xp6(5),t.Oqu(t.lcZ(11,3,"buy_subscription"))}}function E(i,r){1&i&&(t.TgZ(0,"div")(1,"p",38),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"no_product_available")))}function R(i,r){if(1&i&&(t.TgZ(0,"div",39)(1,"div",16),t.YNc(2,Q,12,5,"div",17),t.qZA(),t.YNc(3,E,4,3,"div",18),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.subscriptions),t.xp6(1),t.Q6J("ngIf",!e.subscriptions.length)}}const d=function(i){return{active:i}};let j=(()=>{class i{constructor(e){this.configService=e,this.subscriptions=[],this.personalTrainings=[],this.config={},this.onSubscriptionSelected=new t.vpe,this.onSelectGender=new t.vpe,this.sPersonalTrainings=[],this.sSubscriptions=[],this.isLangflag=!1,this.selected_tab=1,this.currency="SAR",this.selected_gender="male"}ngOnInit(){this.isLangflag=this.config.isArabic,this.selectGender("male"),console.log("new payment key",C.N.paymentKey)}ngAfterViewInit(){console.log("ngAfterViewInit personal data",this.personalTrainings),console.log("ngAfterViewInit subscription data",this.subscriptions)}selectTab(e){this.selected_tab=e}selectGender(e){this.selected_gender=e,this.onSelectGender.emit(e)}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(g.E))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-item"]],inputs:{subscriptions:"subscriptions",personalTrainings:"personalTrainings",config:"config"},outputs:{onSubscriptionSelected:"onSubscriptionSelected",onSelectGender:"onSelectGender"},decls:28,vars:29,consts:[[1,"products-container","front-page","page-container","container","pt-sm-60","pt-120"],[1,"row"],[1,"col-lg-12"],[1,"page-title","mt-5","mb-5","section-title","text-center"],[1,"title-size","gwTColor","title"],[1,"col-lg-12","justify-content-center","d-flex"],[1,"select-product-tab-panel","left-button","mx-auto"],[1,"p-1","d-flex"],[1,"pt-tab","select-product-tab","left-button",3,"ngClass","click"],[1,"subs-tab","select-product-tab","left-button",3,"ngClass","click"],[1,"col-lg-2","offset-lg-10","mt-2"],[1,"gender-toggle"],[1,"btn-gender-switch",3,"ngClass","click"],["class","pts-tab",4,"ngIf"],["class","subs-tab",4,"ngIf"],[1,"pts-tab"],[1,"subs-list","row"],["class","subs-item col-md-6 col-12",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"subs-item","col-md-6","col-12"],[1,"left","normal"],[1,"pbd-child"],[1,"personalTrainings-card","product-card","text-align"],["class","product_cycle en-text",4,"ngIf"],["class","product_price en-text",4,"ngIf"],["class","product_description en-text",4,"ngIf"],["class","product_cycle",4,"ngIf"],["class","product_price",4,"ngIf"],["class","product_description",4,"ngIf"],[1,"mt-3","apply-btn",3,"click"],[1,"btn_subscription_container","text-center"],[1,"btn","p-2","text-center"],[1,"product_cycle","en-text"],[1,"product_price","en-text"],[1,"product_description","en-text"],[1,"product_cycle"],[1,"product_price"],[1,"product_description"],[1,"text-center"],[1,"subs-tab"],[1,"btn_subscription_container"],[1,"btn","p-2","text-center","w-100"],[1,"product_cycle","ar-text","d-none"],[1,"product_price","ar-text","d-none"],[1,"product_description","ar-text","d-none"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"span"),t._uU(6),t.ALo(7,"translate"),t.qZA()()()()(),t.TgZ(8,"div",1)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8),t.NdJ("click",function(){return o.selectTab(1)}),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",9),t.NdJ("click",function(){return o.selectTab(2)}),t._uU(16),t.ALo(17,"translate"),t.qZA()()()(),t.TgZ(18,"div",10)(19,"div",11)(20,"div",12),t.NdJ("click",function(){return o.selectGender("male")}),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"div",12),t.NdJ("click",function(){return o.selectGender("female")}),t._uU(24),t.ALo(25,"translate"),t.qZA()()()(),t.YNc(26,k,4,2,"div",13),t.YNc(27,R,4,2,"div",14),t.qZA()),2&n&&(t.xp6(6),t.hij(" ",t.lcZ(7,11,"Products")," "),t.xp6(6),t.Q6J("ngClass",t.VKq(21,d,1==o.selected_tab)),t.xp6(1),t.hij(" ",t.lcZ(14,13,"Personal_Training")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(23,d,2==o.selected_tab)),t.xp6(1),t.hij(" ",t.lcZ(17,15,"Subscription")," "),t.xp6(4),t.Q6J("ngClass",t.VKq(25,d,"male"==o.selected_gender)),t.xp6(1),t.hij(" ",t.lcZ(22,17,"Man")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(27,d,"female"==o.selected_gender)),t.xp6(1),t.hij(" ",t.lcZ(25,19,"Woman")," "),t.xp6(2),t.Q6J("ngIf",1==o.selected_tab),t.xp6(1),t.Q6J("ngIf",2==o.selected_tab))},dependencies:[l.mk,l.sg,l.O5,y.X$]})}return i})();const G=[{path:"",component:(()=>{class i{constructor(e,n,o,s,a,B,z,K,M,D){this.title=e,this.meta=n,this.httpService=o,this.configService=s,this.modalService=a,this.alertService=B,this.router=z,this.route=K,this.loaderService=M,this.coreTranslationService=D,this.config={},this.user={},this.subscriptions=[],this.personalTrainings=[],this.checkoutInfo={product_id:0,coupon_code:"",member_id:0,start_date:""},this._id=0,this.title.setTitle(this.coreTranslationService.translateText("Products - 3 Days")),this.meta.addTags([{property:"og:title",content:this.coreTranslationService.translateText("Products - 3 Days")}]),this.config=this.configService.appSettingsValues,this.user=this.config.user||{},goSell.showResult({callback:h=>{localStorage.setItem("goSell_response",JSON.stringify(h.callback)),console.log("callback",h)}}),this.onFetchProducts("male")}ngOnInit(){this.router.url.includes("buy")&&(this.routeChangeSubscription&&this.routeChangeSubscription.unsubscribe(),this.routeChangeSubscription=this.route.params.subscribe(e=>{if(this._id!==e.id){this._id=e.id;let n=localStorage.getItem("goSell_response"),o=localStorage.getItem("checkoutInfo");null!==n&&null!==o&&(this.checkoutInfo=JSON.parse(o),this.checkoutInfo.product_id==this._id&&this.buy())}})),this.route.queryParams.subscribe(e=>{})}ngAfterViewInit(){}onFetchProducts(e){console.log("id home----\x3e",this.config.user.client_id),this.loaderService.setLoading(!0),this.httpService.post("products",{client_id:this.config.user.client_id}).then(n=>{this.loaderService.setLoading(!1),console.log("product all list here",n),this.subscriptions=n.map(o=>{const s=o.branches.filter(a=>a.branch_category===e&&"subscription"==o.type);return{...o,branches:s}}).filter(o=>o.branches.length>0),this.personalTrainings=n.map(o=>{const s=o.branches.filter(a=>a.branch_category===e&&"session"==o.type);return{...o,branches:s}}).filter(o=>o.branches.length>0)}).catch(n=>{console.log(n),this.alertService.alert("info",n.message,"error")})}unsetCheckoutInfo(){localStorage.removeItem("goSell_response"),localStorage.removeItem("checkoutInfo")}buy(){this.loaderService.setLoading(!0),console.log("buy checkout infor here",this.checkoutInfo),this.httpService.post("member/subscriptions/buy",this.checkoutInfo).then(e=>{this.loaderService.setLoading(!1),this.unsetCheckoutInfo(),this.router.navigate(["/membership"])}).catch(e=>{console.log(e),this.alertService.alert("info",e.message,"error")})}onBuyProduct(e){if(e.id)if(this.config.token)this.modalReference=this.modalService.open(v._,{centered:!0,size:"xl"}),this.modalReference.componentInstance.config=this.config,this.modalReference.componentInstance.product=e,this.modalReference.result.then(n=>{},n=>{console.log("reason",n)});else{let n=this.router.url.replace(/\#.*/gi,"").replace("/","");""===n&&(n="home"),this.modalReference=this.modalService.open(x.X,{centered:!0,size:"xl"}),this.modalReference.componentInstance.user=this.user,this.modalReference.componentInstance.config=this.config,this.modalReference.componentInstance.selectedProduct=e,this.modalReference.componentInstance.type=n,this.modalReference.result.then(o=>{},o=>{console.log("reason",o)})}}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(_.Dx),t.Y36(_.h_),t.Y36(b.O),t.Y36(g.E),t.Y36(T.FF),t.Y36(Z.c),t.Y36(p.F0),t.Y36(p.gz),t.Y36(I.D),t.Y36(S.s))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-products"]],decls:3,vars:3,consts:[[1,"main-content"],[3,"config","subscriptions","personalTrainings","onSubscriptionSelected","onSelectGender"]],template:function(n,o){1&n&&(t.TgZ(0,"main",0),t._UZ(1,"app-spinner"),t.TgZ(2,"app-product-item",1),t.NdJ("onSubscriptionSelected",function(a){return o.onBuyProduct(a)})("onSelectGender",function(a){return o.onFetchProducts(a)}),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("config",o.config)("subscriptions",o.subscriptions)("personalTrainings",o.personalTrainings))},dependencies:[A.O,j]})}return i})()}];let $=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(G),p.Bz]})}return i})(),V=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[l.ez,f.m,$]})}return i})()}}]);